---
- hosts: localhost
  connection: local
  become: true

  tasks:
  
  - name: apt Update & Upgrade
    apt:
      upgrade: yes
      update_cache: 'yes'

  - name: Install monitoring packages
    package:
      name: 
        - htop
        - python3-psutil
        - nano
  
  - name: Create Github folder
    become_user: mattia
    file:
      path: /home/mattia/Documents/GitHub
      state: directory

  - name: Copy .bashrc config
    copy:
      src: files/bashrc
      dest: /home/mattia/.bashrc
      owner: mattia
      group: mattia